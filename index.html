<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8"> 
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Scroll</title>

	<link rel="stylesheet" href="css/style.css" type="text/css">

	<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/1.20.3/TweenMax.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/ScrollMagic/2.0.5/ScrollMagic.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/ScrollMagic/2.0.5/plugins/animation.gsap.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/ScrollMagic/2.0.5/plugins/debug.addIndicators.min.js"></script>
</head>
<body>
	<div class="content content1"><h1>Content 1</h1></div>
	<div class="content content2"><h1>Content 2</h1></div>
	<div class="content content3 pinDiv">
	  <h1>Left-right</h1>
	  <div class="left-right"></div>
	  <div class="percentage">Timeline percentage complete: <span>0</span>%</div>
	</div>
<!-- 	<div class="content content4 pinDiv">
	  <h1>Right-left</h1>
	  <div class="right-left"></div>
	  <div class="percentage">Timeline percentage complete: <span>0</span>%</div>
	</div> -->
	<div class="content content5"><h1>Content 5</h1></div>
	<div class="content content6"><h1>Content 6</h1></div>

	<script type="text/javascript">
		TweenLite.defaultEase = Linear.easeNone;

		TweenMax.set(".left-right", {yPercent:-50, xPercent:-100});
		const tween = new TimelineMax({onUpdate:updatePercentage});
		const controller = new ScrollMagic.Controller();
		const percent = document.querySelector(".percentage span");
		tween.to(".left-right", 1, {left:"50%", xPercent:-50});
		tween.to(".left-right", 1, {left:"100%", xPercent:-100}, "+=2");

		// TweenMax.set(".right-left", {yPercent:-50, xPercent:-100});
		// const tween2 = new TimelineMax({onUpdate:updatePercentage});
		// const controller = new ScrollMagic.Controller();
		// const percent = document.querySelector(".percentage span");
		// tween2.to(".right-left", 1, {left:"50%", xPercent:-50});
		// tween2.to(".right-left", 1, {left:"100%", xPercent:-100}, "+=2");

		const scene =   new ScrollMagic.Scene({
		            triggerElement: ".pinDiv",
		            triggerHook: "onLeave",
		            duration: "200%"
		        })
		        .setPin(".pinDiv")
		        .setTween(tween)
		        // .setTween(tween2)
		    //     .addIndicators({
		    //   colorTrigger: "white",
		    //         colorStart:"white",
		    //   colorEnd:"white",
		    //       indent:20,
		    //   name:""
		    // }) 
		        .addTo(controller);

		function updatePercentage() {
		  percent.innerHTML = (tween.progress() *100 ).toFixed();
		  // percent.innerHTML = (tween2.progress() *100 ).toFixed();
		}
	</script>
</body>
</html>
